{"version":3,"sources":["all.js"],"names":["formElement","document","querySelector","data","addEventListener","event","preventDefault","name","value","trim","imgUrl","area","price","group","rate","description","error_name","error_imgUrl","error_area","error_price","error_group","error_rate","reFilter","validity","valid","innerHTML","console","log","push","length","reset","init","_url","axios","get","then","res","render","arr","ticketList","filterNum","str","forEach","item","content","filterGroup","e","target","newData","filter"],"mappings":"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","file":"all.js","sourcesContent":["//新增資料\nconst formElement = document.querySelector('.js_form')\nlet data = {}\n\nformElement.addEventListener('submit', (event) => {\n  event.preventDefault()\n  let name = formElement[0].value.trim()\n  let imgUrl = formElement[1].value.trim()\n  let area = formElement[2].value.trim()\n  let price = formElement[3].value.trim()\n  let group = formElement[4].value.trim()\n  let rate = formElement[5].value.trim()\n  let description = formElement[6].value.trim()\n\n  const error_name = document.querySelector('.js_error_name')\n  const error_imgUrl = document.querySelector('.js_error_imgUrl')\n  const error_area = document.querySelector('.js_error_area')\n  const error_price = document.querySelector('.js_error_price')\n  const error_group = document.querySelector('.js_error_group')\n  const error_rate = document.querySelector('.js_error_rate')\n\n  const reFilter = document.querySelector('.js_filterGroup')\n\n  if(!formElement[0].validity.valid){\n    error_name.innerHTML = `套票名稱不能為空`\n  }else{\n    error_name.innerHTML = ''\n  }\n  if(!formElement[1].validity.valid){\n    if(formElement[1].value == ''){\n      error_imgUrl.innerHTML = `圖片網址不能為空`\n    }else{\n      error_imgUrl.innerHTML = `圖片網址格式錯誤`\n    }\n  }else{\n    error_imgUrl.innerHTML = ''\n  }\n  if(!formElement[2].validity.valid){\n    error_area.innerHTML = `請選擇景點地區`\n  }else{\n    error_area.innerHTML = ''\n  }\n  if(!formElement[3].validity.valid){\n    if(formElement[3].value == ''){\n      error_price.innerHTML = `請輸入套票金額`\n    }else{\n      error_price.innerHTML = `套票金額格式錯誤`\n    }\n  }else{\n    error_price.innerHTML = ''\n  }\n  if(!formElement[4].validity.valid){\n    if(formElement[4].value == ''){\n      error_group.innerHTML = `請輸入套票組數`\n    }else{\n      error_group.innerHTML = `套票組數格式錯誤`\n    }\n  }else{\n    error_group.innerHTML = ''\n  }\n  if(!formElement[5].validity.valid){\n    if(formElement[5].value == ''){\n      error_rate.innerHTML = `請輸入套票星級`\n    }else{\n      error_rate.innerHTML = `套票星級格式錯誤`\n    }\n  }else{\n    error_rate.innerHTML = ''\n  }\n\n  if(formElement[0].validity.valid &&\n    formElement[1].validity.valid &&\n    formElement[2].validity.valid &&\n    formElement[3].validity.valid &&\n    formElement[4].validity.valid &&\n    formElement[5].validity.valid &&\n    formElement[6].validity.valid){\n    console.log(data)\n\n\n\n    console.log(name,imgUrl,area,price,group,rate,description);\n\n    data.push({\n        \"id\": data.length,\n        name,\n        imgUrl,\n        area,\n        description,\n        group,\n        price,\n        rate,\n    })\n    formElement.reset()\n    error_name.innerHTML = ''\n    error_imgUrl.innerHTML = ''\n    error_area.innerHTML = ''\n    error_price.innerHTML = ''\n    error_group.innerHTML = ''\n    error_rate.innerHTML = ''\n    reFilter.value = '全部地區'\n    init();\n  }\n})\n\n//渲染畫面\nconst init = () =>{\n  const _url = 'https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json'\n  axios.get(_url).then((res) => {\n    data = res.data.data\n    render(data)\n  }).catch(()=>{\n    console.log('error')\n  })\n}\ninit();\n\n\nconst render = (arr) => {\n  const ticketList = document.querySelector('.js_ticketList')\n  const filterNum = document.querySelector('.js_filter')\n  let str = ''\n  arr.forEach((item)=>{\n\n    let content = `\n      <li\n        class=\"col-span-4 bg-white shadow-[0px_3px_6px_#00000029] rounded\"\n      >\n        <div class=\"relative\">\n          <img\n            class=\"block w-full h-[180px] object-cover rounded-t\"\n            src=\"${item.imgUrl}\"\n            alt=\"\"\n          />\n          <div\n            class=\"absolute px-5 py-2 bg-secondary text-white text-xl rounded-r top-0 -translate-y-1/4\"\n          >\n          ${item.area}\n          </div>\n          <div\n            class=\"absolute px-2 py-[5px] bg-primary text-white rounded-r bottom-0 translate-y-1/2\"\n          >\n          ${item.rate}\n          </div>\n        </div>\n        <div\n          class=\"flex flex-col justify-between h-[calc(100%_-_180px)] p-5\"\n        >\n          <div>\n            <h3\n              class=\"text-primary text-2xl font-medium pb-1 mb-4 border-b-2 border-b-primary\"\n            >\n            ${item.name}\n            </h3>\n            <p class=\"mb-5\">\n            ${item.description}\n            </p>\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <p class=\"text-primary\">\n              <span class=\"material-symbols-outlined align-middle mr-[6px]\">\n                error\n              </span>\n              剩下最後 <span id=\"ticketCard-num\"> ${item.group} </span> 組\n            </p>\n            <p class=\"flex items-center text-primary\">\n              TWD\n              <span\n                class=\"font-roboto text-[32px] ml-1\"\n                id=\"ticketCard-price\"\n              >\n                $${item.price}\n              </span>\n            </p>\n          </div>\n        </div>\n      </li>\n    `\n    str += content\n  })\n  ticketList.innerHTML = str\n  filterNum.innerHTML = `搜尋資料為 ${arr.length} 筆`\n}\n\n\nconst filterGroup = document.querySelector('.js_filterGroup')\nfilterGroup.addEventListener('change', (e) => {\n  if(e.target.value == '全部地區'){init()}else{\n    const newData = data.filter((item) => {\n      return item.area == e.target.value\n    })\n    render(newData)\n  }\n})\n"]}