{"version":3,"sources":["all.js"],"names":["formElement","document","querySelector","addEventListener","event","preventDefault","name","value","trim","imgUrl","area","price","group","rate","description","error_name","error_imgUrl","error_area","error_price","error_group","error_rate","reFilter","validity","valid","innerHTML","console","log","data","push","length","reset","init","ticketList","filterNum","_url","str","axios","get","then","res","forEach","item","content","filterGroup","e","target","newData","filter"],"mappings":"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","file":"all.js","sourcesContent":["//新增資料\r\nconst formElement = document.querySelector('.js_form')\r\n\r\nformElement.addEventListener('submit', (event) => {\r\n  event.preventDefault()\r\n  let name = formElement[0].value.trim()\r\n  let imgUrl = formElement[1].value.trim()\r\n  let area = formElement[2].value.trim()\r\n  let price = formElement[3].value.trim()\r\n  let group = formElement[4].value.trim()\r\n  let rate = formElement[5].value.trim()\r\n  let description = formElement[6].value.trim()\r\n\r\n  const error_name = document.querySelector('.js_error_name')\r\n  const error_imgUrl = document.querySelector('.js_error_imgUrl')\r\n  const error_area = document.querySelector('.js_error_area')\r\n  const error_price = document.querySelector('.js_error_price')\r\n  const error_group = document.querySelector('.js_error_group')\r\n  const error_rate = document.querySelector('.js_error_rate')\r\n\r\n  const reFilter = document.querySelector('.js_filterGroup')\r\n\r\n  if(!formElement[0].validity.valid){\r\n    error_name.innerHTML = `套票名稱不能為空`\r\n  }else{\r\n    error_name.innerHTML = ''\r\n  }\r\n  if(!formElement[1].validity.valid){\r\n    if(formElement[1].value == ''){\r\n      error_imgUrl.innerHTML = `圖片網址不能為空`\r\n    }else{\r\n      error_imgUrl.innerHTML = `圖片網址格式錯誤`\r\n    }\r\n  }else{\r\n    error_imgUrl.innerHTML = ''\r\n  }\r\n  if(!formElement[2].validity.valid){\r\n    error_area.innerHTML = `請選擇景點地區`\r\n  }else{\r\n    error_area.innerHTML = ''\r\n  }\r\n  if(!formElement[3].validity.valid){\r\n    if(formElement[3].value == ''){\r\n      error_price.innerHTML = `請輸入套票金額`\r\n    }else{\r\n      error_price.innerHTML = `套票金額格式錯誤`\r\n    }\r\n  }else{\r\n    error_price.innerHTML = ''\r\n  }\r\n  if(!formElement[4].validity.valid){\r\n    if(formElement[4].value == ''){\r\n      error_group.innerHTML = `請輸入套票組數`\r\n    }else{\r\n      error_group.innerHTML = `套票組數格式錯誤`\r\n    }\r\n  }else{\r\n    error_group.innerHTML = ''\r\n  }\r\n  if(!formElement[5].validity.valid){\r\n    if(formElement[5].value == ''){\r\n      error_rate.innerHTML = `請輸入套票星級`\r\n    }else{\r\n      error_rate.innerHTML = `套票星級格式錯誤`\r\n    }\r\n  }else{\r\n    error_rate.innerHTML = ''\r\n  }\r\n\r\n  if(formElement[0].validity.valid &&\r\n    formElement[1].validity.valid &&\r\n    formElement[2].validity.valid &&\r\n    formElement[3].validity.valid &&\r\n    formElement[4].validity.valid &&\r\n    formElement[5].validity.valid &&\r\n    formElement[6].validity.valid){\r\n    console.log(data)\r\n\r\n\r\n\r\n    console.log(name,imgUrl,area,price,group,rate,description);\r\n\r\n    data.push({\r\n        \"id\": data.length,\r\n        name,\r\n        imgUrl,\r\n        area,\r\n        description,\r\n        group,\r\n        price,\r\n        rate,\r\n    })\r\n    formElement.reset()\r\n    error_name.innerHTML = ''\r\n    error_imgUrl.innerHTML = ''\r\n    error_area.innerHTML = ''\r\n    error_price.innerHTML = ''\r\n    error_group.innerHTML = ''\r\n    error_rate.innerHTML = ''\r\n    reFilter.value = '全部地區'\r\n    init();\r\n  }\r\n})\r\n\r\n//渲染畫面\r\nconst init = () =>{\r\n  const ticketList = document.querySelector('.js_ticketList')\r\n  const filterNum = document.querySelector('.js_filter')\r\n\r\n  const _url = 'https://raw.githubusercontent.com/hexschool/js-training/main/travelAPI-lv1.json'\r\n  let str = ''\r\n  \r\n  axios.get(_url).then((res) => {\r\n    res.data.forEach((item) => {\r\n\r\n      let content = `\r\n        <li\r\n          class=\"col-span-4 bg-white shadow-[0px_3px_6px_#00000029] rounded\"\r\n        >\r\n          <div class=\"relative\">\r\n            <img\r\n              class=\"block w-full h-[180px] object-cover rounded-t\"\r\n              src=\"${item.imgUrl}\"\r\n              alt=\"\"\r\n            />\r\n            <div\r\n              class=\"absolute px-5 py-2 bg-secondary text-white text-xl rounded-r top-0 -translate-y-1/4\"\r\n            >\r\n            ${item.area}\r\n            </div>\r\n            <div\r\n              class=\"absolute px-2 py-[5px] bg-primary text-white rounded-r bottom-0 translate-y-1/2\"\r\n            >\r\n            ${item.rate}\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"flex flex-col justify-between h-[calc(100%_-_180px)] p-5\"\r\n          >\r\n            <div>\r\n              <h3\r\n                class=\"text-primary text-2xl font-medium pb-1 mb-4 border-b-2 border-b-primary\"\r\n              >\r\n              ${item.name}\r\n              </h3>\r\n              <p class=\"mb-5\">\r\n              ${item.description}\r\n              </p>\r\n            </div>\r\n            <div class=\"flex justify-between items-center\">\r\n              <p class=\"text-primary\">\r\n                <span class=\"material-symbols-outlined align-middle mr-[6px]\">\r\n                  error\r\n                </span>\r\n                剩下最後 <span id=\"ticketCard-num\"> ${item.group} </span> 組\r\n              </p>\r\n              <p class=\"flex items-center text-primary\">\r\n                TWD\r\n                <span\r\n                  class=\"font-roboto text-[32px] ml-1\"\r\n                  id=\"ticketCard-price\"\r\n                >\r\n                  $${item.price}\r\n                </span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      `\r\n      str += content\r\n\r\n      ticketList.innerHTML = str\r\n      filterNum.innerHTML = `搜尋資料為 ${res.data.length} 筆`\r\n    })\r\n  }).catch(()=>{\r\n    console.log('error')\r\n  })\r\n\r\n  \r\n  \r\n}\r\ninit();\r\n\r\n\r\n//\r\nconst filterGroup = document.querySelector('.js_filterGroup')\r\n\r\n\r\nfilterGroup.addEventListener('change', (e) => {\r\n  const filterNum = document.querySelector('.js_filter')\r\n  \r\n  if(e.target.value == '全部地區'){init()}else{\r\n    const ticketList = document.querySelector('.js_ticketList')\r\n    const newData = data.filter((item) => {\r\n      return item.area == e.target.value\r\n    })\r\n    \r\n    let str = ''\r\n    newData.forEach((item) => {\r\n      let content = `\r\n        <li\r\n          class=\"col-span-4 bg-white shadow-[0px_3px_6px_#00000029] rounded\"\r\n        >\r\n          <div class=\"relative\">\r\n            <img\r\n              class=\"block w-full h-[180px] object-cover rounded-t\"\r\n              src=\"${item.imgUrl}\"\r\n              alt=\"\"\r\n            />\r\n            <div\r\n              class=\"absolute px-5 py-2 bg-secondary text-white text-xl rounded-r top-0 -translate-y-1/4\"\r\n            >\r\n            ${item.area}\r\n            </div>\r\n            <div\r\n              class=\"absolute px-2 py-[5px] bg-primary text-white rounded-r bottom-0 translate-y-1/2\"\r\n            >\r\n            ${item.rate}\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"flex flex-col justify-between h-[calc(100%_-_180px)] p-5\"\r\n          >\r\n            <div>\r\n              <h3\r\n                class=\"text-primary text-2xl font-medium pb-1 mb-4 border-b-2 border-b-primary\"\r\n              >\r\n              ${item.name}\r\n              </h3>\r\n              <p class=\"mb-5\">\r\n              ${item.description}\r\n              </p>\r\n            </div>\r\n            <div class=\"flex justify-between items-center\">\r\n              <p class=\"text-primary\">\r\n                <span class=\"material-symbols-outlined align-middle mr-[6px]\">\r\n                  error\r\n                </span>\r\n                剩下最後 <span id=\"ticketCard-num\"> ${item.group} </span> 組\r\n              </p>\r\n              <p class=\"flex items-center text-primary\">\r\n                TWD\r\n                <span\r\n                  class=\"font-roboto text-[32px] ml-1\"\r\n                  id=\"ticketCard-price\"\r\n                >\r\n                  $${item.price}\r\n                </span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      `\r\n      str += content\r\n    })\r\n    ticketList.innerHTML = str\r\n    filterNum.innerHTML = `搜尋資料為 ${newData.length} 筆`\r\n  }\r\n})\r\n"]}